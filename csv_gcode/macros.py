def dimple(y: float) -> str:
    return f"""G90
G0 Y{y} 
G00 X0 Y{y}
G91
%
(Layout "Model")
(ABViewer 15 trial version - www.cadsofttools.com )
(Contour 0)
G00 X-26.5 Y2.5
M3
G03 X-5.0 I-2.5 J0.
X5.0 I2.5 J0.
M5
(Contour 1)
G00 X-143.978 Y0.07200000000000006
M3
G03 X-5.0 I-2.5 J0.
X5.0 I2.5 J0.
M5
G00 X143.978 Y-2.572
M02
%
"""


def end_truss_start(y: float) -> str:
    return f"""G90
G0 Y{y}
G00 X0 Y{y}
G91
%
(Layout "Model")
(ABViewer 15 trial version - www.cadsofttools.com )
(Contour 0)
G00 X-151.884 Y-18.089
M3
G01 X103.99999999999999
M5
(Contour 1)
G00 X36.341 Y-0.0010000000000012221
M3
G03 X-36.414 Y-0.018000000000000682 I-18.207 J-0.118
M5
(Contour 2)
G00 X36.42 Y0.01699999999999946
M3
G01 X2.0
M5
(Contour 3)
G00 X11.347 Y-4.132999999999999
M3
G01 X-11.276 Y4.103999999999999
M5
(Contour 4)
G00 X-142.512 Y-0.006000000000000227
M3
G03 X-36.41399999999999 Y-0.01799999999999713 I-18.207 J-0.118
M5
(Contour 5)
G00 X-0.06399999999999295 Y0.013999999999999346
M3
G01 X-2.0
M5
(Contour 6)
G00 X-0.05700000000001637 Y-0.0400000000000027
M3
G01 X-11.276999999999987 Y-4.103999999999999
M5
G00 X203.6 Y22.274
M02
%
"""


def end_truss_finish(y: float) -> str:
    return f"""G90
G0 Y{y}
G00 X0 Y{y}
G91
%
(Layout "Model")
(ABViewer 15 trial version - www.cadsofttools.com )
(Contour 0)
G00 X-190.537 Y18.168
M3
G01 X-11.213999999999999 Y4.153000000000002
M5
(Contour 5)
G00 X13.286000000000001 Y-4.210000000000001
M3
G03 X36.41399999999999 Y-0.018000000000000682 I18.207 J0.1
M5
(Contour 4)
G00 X-0.001999999999981128 Y0.1670000000000016
M3
G01 X104.09899999999999 Y-0.012000000000000455
M5
(Contour 6)
G00 X-0.07499999999999574 Y-0.1410000000000018
M3
G03 X36.414 Y-0.01699999999999946 I18.207 J0.1
M5
(Contour 3)
G00 X0.05599999999999916 Y-0.0019999999999988916
M3
G01 X1.9910000000000014 Y0.11299999999999955
M5
(Contour 2)
G00 X11.418 Y4.567
M3
G01 X-11.386 Y-4.551000000000002
M5
(Contour 1)
G00 X-178.93800000000002 Y-0.15700000000000003
M3
G01 X-2.0209999999999866 Y0.04100000000000037
M5
G00 X192.345 Y-18.101
M02
%
"""


def lip_notch(y: float) -> str:
    return f"""G90
G0 Y{y}
G00 X0 Y{y}
G91
%
(Layout "Model")
(ABViewer 15 trial version - www.cadsofttools.com )
(Contour 0)
G00 X-189.64 Y9.93
M3
G01 Y54.0
M5
(Contour 3)
G00 X-12.0 Y9.866000000000007
M3
G01 X11.974999999999994 Y-9.88000000000001
M5
(Contour 1)
G00 X-8.488 Y-62.550999999999995
M3
G01 Y0.08699999999999997
M5
(Contour 4)
G00 X-3.561000000000007 Y-1.452
M3
G01 X12.106000000000023 Y9.944
M5
(Contour 2)
G00 X178.434 Y0.10699999999999932
M3
G01 Y54.0
M5
(Contour 5)
G00 X0.053000000000000824 Y-0.08400000000000318
M3
G01 X12.599 Y10.918999999999997
M5
(Contour 6)
G00 X-12.635000000000002 Y-64.66799999999999
M3
G01 X12.957 Y-9.449
M5
G00 Y-0.769
M02
%
"""


def web_notch(y: float) -> str:
    return f"""G90
G0 Y{y}
G00 X0 Y{y}
G91
%
(Layout "Model")
(ABViewer 15 trial version - www.cadsofttools.com )
(Contour 0)
G00 X-49.019 Y4.762
M3
G01 Y0.016000000000000014
M5
(Contour 2)
G00 X0.019 Y-2.4939999999999998
M3
G01 Y54.292
M5
(Contour 3)
G00 X-0.029 Y-0.021000000000000796
M3
G01 X-51.763 Y3.4780000000000015
M5
(Contour 4)
G00 X-52.187 Y-2.764000000000003
M3
G01 X52.275999999999996 Y2.7319999999999993
M5
(Contour 1)
G00 X-0.39000000000000057 Y-59.986
M3
G01 X52.015 Y2.2569999999999997
M5
(Contour 5)
G00 X-52.004999999999995 Y-2.272
M3
G01 X-51.977000000000004 Y3.259
M5
(Contour 6)
G00 X0.02400000000000091 Y-0.016999999999999904
M3
G01 X0.0040000000000048885 Y54.13
M5
G00 X104.032 Y-57.372
M02
%
"""


def service(y: float) -> str:
    return f"""G90
G0 Y{y}
G00 X0 Y{y}
G91
%
(Layout "Model")
(ABViewer 15 trial version - www.cadsofttools.com )
(Contour 0)
G00 X-83.25 Y17.566
M3
G03 X-35.132 I-17.566 J0.
X35.132 I17.566 J0.
M5
G00 Y-17.566
M02
%
"""


def cut() -> str:
    return f"""G91
%
(Layout "Model")
(ABViewer 15 trial version - www.cadsofttools.com )
(Contour 0)
G00 X-201.9 Y0.0
M3
G01 X204.0
M5
M02
%
"""


def cut_length(length: float) -> str:
    return f"""G90
G0 Y{length + 21}
G00 X0 Y{length + 21}
G91
%
(Layout "Model")
(ABViewer 15 trial version - www.cadsofttools.com )
(Contour 0)
G00 X-201.9 Y0.0
M3
G01 X204.0
M5
M02
%
"""


macros = {
    'DIMPLE': dimple,
    'END_TRUSS_START': end_truss_start,
    'END_TRUSS_FINISH': end_truss_finish,
    'LIP_NOTCH': lip_notch,
    'WEB_NOTCH': web_notch,
    'SERVICE': service,
    'CUT': cut,
    'CUT_LENGTH': cut_length,
}

command_map = {
    'DIMPLE': 'DIMPLE',
    'END_TRUSS': ('END_TRUSS_START', 'END_TRUSS_FINISH'),
    'LIP_NOTCH': 'LIP_NOTCH',
    'WEB_NOTCH': 'WEB_NOTCH',
    'SERVICE': 'SERVICE',
}
